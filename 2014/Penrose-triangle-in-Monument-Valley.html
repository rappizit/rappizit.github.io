<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Penrose triangle in Monument Valley</title>
        <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">rappizit</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Penrose triangle in Monument Valley</h2>
<p class="meta">17 Aug 2014</p>

<div class="post">
	<canvas id="canvas" width="600" height="800"></canvas>
	<script type="text/javascript" src="/script/three.min.js"></script>
	<script type="text/javascript">
		window.onload = function() {var _p = false;var CANVAS_WIDTH = 600;var CANVAS_HEIGHT = 800;var _t = new THREE.WebGLRenderer( { canvas: document.getElementById('canvas') } );_t.setSize( CANVAS_WIDTH, CANVAS_HEIGHT );var _k = new THREE.Scene();var _h = new THREE.Camera();_h.projectionMatrix = new THREE.Matrix4(0.016666, 0, -5.102695e-19, -1.530808e-17, 0, 0.012500, -0.006250, -0.1875, 0, 0, -0.000200, -1.000020, 0, 0, 0, 1);_h.position.set( 100, 50, 100 );_h.lookAt( new THREE.Vector3(0, 50, 0) );if (_p) {_h = new THREE.PerspectiveCamera(45, CANVAS_WIDTH / CANVAS_HEIGHT, 0.1, 10000);_h.position.set( 150, 50, 150 );_h.lookAt( new THREE.Vector3(0, 10, 0) );}var _u = [ 40, 10, 10, -25, 0, -90, 10, 10, 50, 0, 0, -70, 50, 10, 10, 70, 63.639611, 0, 1, 60, 1, -4.5, -30, -85.5, 1, 60, 1, 4.5, -30, -85.5, 1, 60, 1, 4.5, -30, -94.5, 90, 20, 90, 0, -65, 0, 60, 40, 60, 0, -35, 0, 60, 10, 60, 0, -10, 0, 10, 73.639611, 10, 0, 31.819805, 0, 40, 10, 10, 25, 63.639611, 0, 10, 10, 40, 0, 0, -25, ];var _a = new THREE.Scene();var _e = new THREE.Scene();var _b = new THREE.Scene();var _d = new THREE.Scene();_k.add( _a );_k.add( _e );_k.add( _b );_k.add( _d );for (var i = 0, j = 0; i + 6 <= _u.length; i += 6, ++j) {var s = 0.75;var geometry = new THREE.CubeGeometry( _u[i] * s, _u[i + 1] * s, _u[i + 2] * s );var color = 0xD9E0C8 - 0xA9947D;var meterial = new THREE.MeshLambertMaterial( { color: color } );var mesh = new THREE.Mesh( geometry, meterial );mesh.position.set( _u[i + 3] * s, _u[i + 4] * s, _u[i + 5] * s );if (j < 2) {_a.add( mesh );} else if (j < 3) {_e.add (mesh );} else if (j < 8) {_b.add( mesh );} else {_d.add( mesh );}}var light = new THREE.DirectionalLight( 0xFFFFFF );light.position.set( 100, 200, 0 );_k.add( light);var light2 = new THREE.AmbientLight( 0xA9947D );_k.add(light2);_t.setClearColorHex(0x00C1B2, 1);_t.sortObjects = false;var _v = _t.domElement;var _y = false;try {document.createEvent("TouchEvent");_y = true;} catch (e) {}var _g = false;var _z = 0, _w = 0, _x = 90;var mousemove = function(ev) {if (_g && ev) {var x = _y ? ev.touches[0].pageX : ev.pageX;_x = _w + (x - _z) / 5;ev.preventDefault();}var radY = THREE.Math.degToRad( _x );_d.rotation.set(0, radY, 0);_d.updateMatrix();_a.visible = true; _e.visible = false; _b.visible = false; _d.visible = false;_t.render( _k, _h );_t.autoClear = false;if (!_p) {_t.context.colorMask(false, false, false, false);_a.visible = false; _e.visible = true; _b.visible = false; _d.visible = false;_t.render( _k, _h );_t.context.colorMask(true, true, true, true);}_a.visible = false; _e.visible = false; _b.visible = true; _d.visible = true;_t.render( _k, _h );_t.autoClear = true;};var mousedown = function(ev) {_g = true;_w = _x;if (!_y) {_v.onmousemove = mousemove;}_z = _y ? ev.touches[0].pageX : ev.pageX;ev.preventDefault();};var upTime = 0, upAngleY = 0, at = 90;var mouseup = function(ev) {_g = false;if (!_y) {_v.onmousemove = null;}_x = _x % 360;if (_x < -180) _x += 360;if (_x > 180) _x -= 360;if ( Math.abs(_x) <= at ) {upTime = 0;upAngleY = _x;(function anim() {if ( _g || Math.abs( _x ) < 1e-6 ) {return;}var t = ++upTime / Math.max(20, Math.abs( upAngleY ) );if (t > 1) {t = 1;}tension = 3, t -= 1, t = t * t * ((tension + 1) * t + tension) + 1;_x = upAngleY + t * -upAngleY;mousemove(null);requestAnimationFrame(anim);})();}};if (_y) {_v.addEventListener('touchstart', mousedown, false);_v.addEventListener('touchmove', mousemove, false);_v.addEventListener('touchend', mouseup, false);_v.addEventListener('touchcancle', mouseup, false);} else {_v.onmousedown = mousedown;_v.onmouseup = onmouseout = mouseup;}mouseup(null);at = 45;}
	</script>


</div>


          <div class="footer">
            <div class="contact">
              <p>
                rappizit<br />
                Android devoloper, CG Art fan.<br />
                rappizit@gmail.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/rappizit">github.com/rappizit</a><br />
                <a href="https://twitter.com/rappizit">twitter.com/rappizit</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
